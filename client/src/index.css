@tailwind base;
@tailwind components;
@tailwind utilities;

/* Estilos de impresión para los horarios de empleados */
@media print {
  body * {
    visibility: hidden;
  }
  
  .print-employee-schedule,
  .print-employee-schedule * {
    visibility: visible;
  }
  
  .print-employee-schedule {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    background: white;
    padding: 1rem;
  }
  
  /* Ocultar botones y elementos innecesarios al imprimir */
  button, 
  .max-h-\[60vh\],
  .overflow-y-auto {
    max-height: none !important;
    overflow: visible !important;
  }
  
  /* Asegurar que cada tarjeta de empleado tenga espacio suficiente */
  .print-employee-schedule .grid > div {
    page-break-inside: avoid;
    break-inside: avoid;
    margin-bottom: 0.5cm;
  }
}

@layer base {
  body {
    @apply font-sans antialiased bg-background text-foreground;
  }
}

/* Estilos globales para evitar la selección de texto al arrastrar */
.select-none * {
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* Estilos para celdas de tiempo */
.time-cell {
  box-sizing: border-box;
  width: 20px !important;
  height: 20px !important;
  min-height: 20px !important;
  max-height: 20px !important;
  padding: 0 !important;
  margin: 0 !important;
  line-height: 20px !important;
}

/* Para controlar la altura de las filas - será controlado por JavaScript */
table tr {
  height: var(--cell-size) !important;
  line-height: var(--cell-size) !important;
}

/* Para controlar el tamaño del contenido */
table td, table th {
  vertical-align: middle;
  overflow: hidden;
}

/* Estilo para la cabecera con horas agrupadas */
thead tr:first-child th[colspan="4"] {
  border-bottom: 1px solid #E0E0E0;
}

/* Asegurarnos que el posicionamiento sticky funcione para las tres filas del encabezado */
thead tr:nth-child(2) th {
  top: var(--cell-size) !important;
}

thead tr:nth-child(3) th {
  top: calc(var(--cell-size) * 2) !important;
}

/* Estilo para la fila de totales (ahora al final) */
.totals-row {
  border-top: 2px solid #D1D5DB; /* Línea más gruesa para separar */
  background-color: #F3F4F6; /* Fondo gris muy claro */
}

.totals-row td {
  font-weight: bold;
}

/* Estilos para dispositivos táctiles - sistema simplificado */
.table-container {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch; /* Desplazamiento suave en iOS */
  touch-action: pan-x pan-y; /* Permitir desplazamiento natural */
  width: 100%;
  max-width: 100vw;
}

/* Cuando se está arrastrando, prevenir desplazamiento de la página */
.is-dragging {
  touch-action: none !important;
  overflow: hidden !important;
}

/* Celda específica para horarios */
.time-cell {
  user-select: none;
  -webkit-user-select: none;
  -webkit-tap-highlight-color: transparent;
}

/* Solo para dispositivos táctiles */
@media (hover: none) and (pointer: coarse) {
  /* Mensaje de información táctil */
  .touch-info {
    display: block;
    background-color: #e7f3ff;
    border: 1px solid #b3d7ff;
    color: #0056b3;
    padding: 0.75rem;
    margin-bottom: 1rem;
    border-radius: 0.375rem;
    font-size: 0.875rem;
  }
}